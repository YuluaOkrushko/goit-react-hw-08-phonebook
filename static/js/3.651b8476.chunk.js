(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{117:function(t,e,n){t.exports={upperWrapper:"ContactForm_upperWrapper__z4hFQ",headWrapper:"ContactForm_headWrapper__n6v2J",title:"ContactForm_title__1qB6H",title_item:"ContactForm_title_item__1uHhY",button_wrapper:"ContactForm_button_wrapper__1z2Ut",button:"ContactForm_button__p1cmc",wrapper:"ContactForm_wrapper__1jF49",input:"ContactForm_input__3sd4Z",appear:"ContactForm_appear__a4_Z-",appearActive:"ContactForm_appearActive__3hUqL",error:"ContactForm_error__1FE1_"}},120:function(t,e,n){t.exports={list:"ContactList_list__16m1C",telNumber:"ContactList_telNumber__mK4-I",telName:"ContactList_telName__1qvc9",container:"ContactList_container__39q8e",button:"ContactList_button__1H2q5",enter:"ContactList_enter__3urRH",enterActive:"ContactList_enterActive__1SKpF",exit:"ContactList_exit__1cbp5",exitActive:"ContactList_exitActive__390yo"}},121:function(t,e,n){t.exports={wrapper:"Filter_wrapper__2EsJN",input:"Filter_input__341VZ",title:"Filter_title__wnih0"}},122:function(t,e,n){t.exports={container:"ContactPage_container__QRlcE",wrapper:"ContactPage_wrapper__wHBJa"}},126:function(t,e,n){"use strict";n.r(e);var a=n(50),c=n(51),r=n(53),o=n(52),i=n(0),s=n(12),u=n(127),l=n(6),p=n(23),h=n.n(p),m=n(36),d={addContact:function(t){var e=t.name,n=t.number;return function(t){t(m.a.addContactRequest()),h.a.post("http://localhost:2000/contacts",{name:e,number:n}).then((function(e){var n=e.data;t(m.a.addContactSuccess(n))})).catch((function(e){return t(m.a.addContactError(e))}))}},deleteContact:function(t){return function(e){e(m.a.deleteContactRequest()),h.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){e(m.a.deleteContactSuccess(t))})).catch((function(t){return e(m.a.deleteContactError(t))}))}},fetchContacts:function(){return function(t){t(m.a.fetchContactsRequest()),h.a.get("http://localhost:2000/contacts").then((function(e){var n=e.data;return t(m.a.fetchContactsSuccess(n))})).catch((function(e){return t(m.a.fetchContactsError(e))}))}}},b=n(30),j=function(t){return t.contacts.phoneBookReducer},_=function(t){return t.filter.filterContactReducer},C={getContacts:j,getFilter:_,getVisibleContacts:Object(b.a)([j,_],(function(t,e){return t.filter((function(t){return!e||t.name.toLowerCase().includes(e)}))}))},f=n(117),O=n.n(f),x=n(118),v=n.n(x),N=n(2),w=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",isExist:!1,duplicateContact:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(l.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state.name;t.props.contacts.map((function(t){return t.name.toLowerCase()})).includes(n.toLowerCase())?(t.setState({isExist:!0,duplicateContact:n}),setTimeout((function(){return t.setState({isExist:!1,duplicateContact:""})}),5e3)):(t.props.onSubmit(t.state),t.setState({name:"",number:"",isExist:!1,duplicateContact:""}))},t.handleCloseErrorWindow=function(){t.setState({isExist:!1})},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.isExist,c=t.duplicateContact;return Object(N.jsxs)("div",{className:O.a.upperWrapper,children:[Object(N.jsxs)("div",{className:O.a.headWrapper,children:[Object(N.jsx)(u.a,{in:!0,appear:!0,timeout:500,classNames:O.a,unmountOnExit:!0,children:Object(N.jsx)("h1",{className:O.a.title,children:"Phonebook"})}),Object(N.jsx)(u.a,{in:a,timeout:250,classNames:O.a,unmountOnExit:!0,children:Object(N.jsxs)("div",{onClick:this.handleCloseErrorWindow,className:O.a.error,children:[c," already exist!"]})})]}),Object(N.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(N.jsx)("label",{children:Object(N.jsxs)("div",{className:O.a.wrapper,children:[Object(N.jsx)("h3",{className:O.a.title_item,children:"Name"}),Object(N.jsx)("input",{className:O.a.input,type:"text",autoComplete:"off",value:e,name:"name",onChange:this.handleChange})]})}),Object(N.jsx)("label",{children:Object(N.jsxs)("div",{className:O.a.wrapper,children:[Object(N.jsx)("h3",{className:O.a.title_item,children:"Number"}),Object(N.jsx)(v.a,{mask:"999-99-99",className:O.a.input,type:"tel",autoComplete:"off",onChange:this.handleChange,value:n,name:"number",placeholder:"000-00-00",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{2}"})]})}),Object(N.jsx)("div",{className:O.a.button_wrapper,children:Object(N.jsx)("button",{className:O.a.button,type:"submit",disabled:""===e||""===n,children:"Add contact"})})]})]})}}]),n}(i.Component),F=Object(s.b)((function(t){return{contacts:C.getContacts(t)}}),(function(t){return{onSubmit:function(e){return t(d.addContact(e))}}}))(w),g=n(128),E=n(120),y=n.n(E),S=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).handleDeleteContact=function(e){return function(){(0,t.props.deleteContact)(e)}},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=this.props.contacts;return Object(N.jsx)(g.a,{component:"ul",children:e.map((function(e){return Object(N.jsx)(u.a,{timeout:250,classNames:y.a,children:Object(N.jsx)("li",{children:Object(N.jsx)("div",{className:y.a.wrapper,children:Object(N.jsxs)("div",{className:y.a.container,children:[Object(N.jsx)("span",{className:y.a.telName,children:e.name}),Object(N.jsx)("span",{className:y.a.telNumber,children:e.number}),Object(N.jsx)("button",{className:y.a.button,id:e.id,onClick:t.handleDeleteContact(e.id),children:"Delete"})]})})})},e.id)}))})}}]),n}(i.Component),k=Object(s.b)((function(t){return{contacts:C.getVisibleContacts(t)}}),(function(t){return{deleteContact:function(e){return t(d.deleteContact(e))}}}))(S),L=n(64),A=n(121),q=n.n(A),W=Object(s.b)((function(t){return{filter:C.getFilter(t)}}),(function(t){return{onFilter:function(e){return t(Object(L.a)(e.target.value))}}}))((function(t){var e=t.value,n=t.onFilter;return Object(N.jsxs)("div",{className:q.a.wrapper,children:[Object(N.jsx)("h3",{className:q.a.title,children:"Find contact"}),Object(N.jsx)("input",{className:q.a.input,type:"text",autoComplete:"off",onChange:n,value:e,name:"filter"})]})})),R=n(122),D=n.n(R),H=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){var t=this.props.contacts;return Object(N.jsxs)("div",{className:D.a.wrapper,children:[Object(N.jsx)(F,{}),Object(N.jsx)(u.a,{in:t.length>1,timeout:500,classNames:D.a,unmountOnExit:!0,children:Object(N.jsx)(W,{})}),Object(N.jsx)(k,{})]})}}]),n}(i.Component),J={onFetchContacts:d.fetchContacts};e.default=Object(s.b)((function(t){return{contacts:C.getContacts(t)}}),J)(H)}}]);
//# sourceMappingURL=3.651b8476.chunk.js.map